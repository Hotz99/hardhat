{
  "_format": "hh3-artifact-1",
  "contractName": "AuditLog",
  "sourceName": "contracts/AuditLog.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "InvalidRange",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Unauthorized",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "entryId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "accessor",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "subject",
          "type": "address"
        }
      ],
      "name": "AuditEntryLogged",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "logger",
          "type": "address"
        }
      ],
      "name": "LoggerAuthorized",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "logger",
          "type": "address"
        }
      ],
      "name": "LoggerRevoked",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "admin",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "logger",
          "type": "address"
        }
      ],
      "name": "authorizeLogger",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getAccessHistory",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "accessor",
          "type": "address"
        }
      ],
      "name": "getAccessorHistory",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "startId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "count",
          "type": "uint256"
        }
      ],
      "name": "getAuditEntries",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "accessorUserId",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "subjectUserId",
              "type": "address"
            },
            {
              "internalType": "bytes32",
              "name": "hashedScope",
              "type": "bytes32"
            },
            {
              "internalType": "uint256",
              "name": "unixTimestamp",
              "type": "uint256"
            },
            {
              "internalType": "enum IAuditLog.EventType",
              "name": "eventType",
              "type": "uint8"
            }
          ],
          "internalType": "struct IAuditLog.AuditEntry[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "entryId",
          "type": "uint256"
        }
      ],
      "name": "getAuditEntry",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "accessorUserId",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "subjectUserId",
              "type": "address"
            },
            {
              "internalType": "bytes32",
              "name": "hashedScope",
              "type": "bytes32"
            },
            {
              "internalType": "uint256",
              "name": "unixTimestamp",
              "type": "uint256"
            },
            {
              "internalType": "enum IAuditLog.EventType",
              "name": "eventType",
              "type": "uint8"
            }
          ],
          "internalType": "struct IAuditLog.AuditEntry",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getLogsCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "count",
          "type": "uint256"
        }
      ],
      "name": "getRecentLogs",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "accessorUserId",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "subjectUserId",
              "type": "address"
            },
            {
              "internalType": "bytes32",
              "name": "hashedScope",
              "type": "bytes32"
            },
            {
              "internalType": "uint256",
              "name": "unixTimestamp",
              "type": "uint256"
            },
            {
              "internalType": "enum IAuditLog.EventType",
              "name": "eventType",
              "type": "uint8"
            }
          ],
          "internalType": "struct IAuditLog.AuditEntry[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "logger",
          "type": "address"
        }
      ],
      "name": "isAuthorizedLogger",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "accessorUserId",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "subjectUserId",
              "type": "address"
            },
            {
              "internalType": "bytes32",
              "name": "hashedScope",
              "type": "bytes32"
            },
            {
              "internalType": "uint256",
              "name": "unixTimestamp",
              "type": "uint256"
            },
            {
              "internalType": "enum IAuditLog.EventType",
              "name": "eventType",
              "type": "uint8"
            }
          ],
          "internalType": "struct IAuditLog.AuditEntry",
          "name": "entry",
          "type": "tuple"
        }
      ],
      "name": "logEvent",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "logger",
          "type": "address"
        }
      ],
      "name": "revokeLogger",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x6080604052348015600e575f5ffd5b505f80546001600160a01b0319163390811782558152600460205260409020805460ff19166001179055610cbf806100455f395ff3fe608060405234801561000f575f5ffd5b50600436106100a6575f3560e01c8063cc9e300f1161006e578063cc9e300f1461013b578063e1437f0f1461014c578063e52e64f914610187578063f851a4401461019a578063fcabb0fd146101c4578063ff14d3e8146101d7575f5ffd5b806365b33fd1146100aa578063a61ecc62146100d3578063a9297186146100f3578063b16b1e2d14610113578063bcfa3f3014610128575b5f5ffd5b6100bd6100b8366004610a07565b6101ea565b6040516100ca9190610a97565b60405180910390f35b6100e66100e1366004610ae4565b61038c565b6040516100ca9190610afb565b610106610101366004610b20565b61049f565b6040516100ca9190610b42565b610126610121366004610b20565b610508565b005b610126610136366004610b20565b610596565b6001546040519081526020016100ca565b61017761015a366004610b20565b6001600160a01b03165f9081526004602052604090205460ff1690565b60405190151581526020016100ca565b6100bd610195366004610ae4565b610676565b5f546101ac906001600160a01b031681565b6040516001600160a01b0390911681526020016100ca565b6101066101d2366004610b20565b610852565b6101266101e5366004610b79565b6108b9565b600154606090831061020f5760405163561ce9bb60e01b815260040160405180910390fd5b5f61021a8385610ba6565b60015490915081111561022c57506001545b5f6102378583610bb9565b90505f8167ffffffffffffffff81111561025357610253610bcc565b6040519080825280602002602001820160405280156102b257816020015b61029f6040805160a0810182525f808252602082018190529181018290526060810182905290608082015290565b8152602001906001900390816102715790505b5090505f5b828110156103805760016102cb8289610ba6565b815481106102db576102db610be0565b5f9182526020918290206040805160a081018252600593840290920180546001600160a01b03908116845260018201541694830194909452600284015490820152600383015460608201526004830154909291608084019160ff169081111561034657610346610a27565b600581111561035757610357610a27565b8152505082828151811061036d5761036d610be0565b60209081029190910101526001016102b7565b50925050505b92915050565b6103ba6040805160a0810182525f808252602082018190529181018290526060810182905290608082015290565b60015482106104075760405162461bcd60e51b8152602060048201526014602482015273115b9d1c9e48191bd95cc81b9bdd08195e1a5cdd60621b60448201526064015b60405180910390fd5b6001828154811061041a5761041a610be0565b5f9182526020918290206040805160a081018252600593840290920180546001600160a01b03908116845260018201541694830194909452600284015490820152600383015460608201526004830154909291608084019160ff169081111561048557610485610a27565b600581111561049657610496610a27565b90525092915050565b6001600160a01b0381165f908152600360209081526040918290208054835181840281018401909452808452606093928301828280156104fc57602002820191905f5260205f20905b8154815260200190600101908083116104e8575b50505050509050919050565b5f546001600160a01b0316331461054e5760405162461bcd60e51b815260206004820152600a60248201526927b7363c9030b236b4b760b11b60448201526064016103fe565b6001600160a01b0381165f81815260046020526040808220805460ff19169055517f902ce9ce11374af7f9b74f6ab3d4111f8652bb37e76c71d696e931210f64f49d9190a250565b5f546001600160a01b031633146105dc5760405162461bcd60e51b815260206004820152600a60248201526927b7363c9030b236b4b760b11b60448201526064016103fe565b6001600160a01b03811661062b5760405162461bcd60e51b8152602060048201526016602482015275496e76616c6964206c6f67676572206164647265737360501b60448201526064016103fe565b6001600160a01b0381165f81815260046020526040808220805460ff19166001179055517f9f2bbcfd0b2e3242c6982755a3baeb59187a22138a75ded102a5c9cb0ec727c79190a250565b6001546060905f8190036106e257604080515f80825260208201909252906106da565b6106c76040805160a0810182525f808252602082018190529181018290526060810182905290608082015290565b8152602001906001900390816106995790505b509392505050565b5f8184116106f057836106f2565b815b90505f6106ff8284610bb9565b90505f8267ffffffffffffffff81111561071b5761071b610bcc565b60405190808252806020026020018201604052801561077a57816020015b6107676040805160a0810182525f808252602082018190529181018290526060810182905290608082015290565b8152602001906001900390816107395790505b5090505f5b838110156108485760016107938285610ba6565b815481106107a3576107a3610be0565b5f9182526020918290206040805160a081018252600593840290920180546001600160a01b03908116845260018201541694830194909452600284015490820152600383015460608201526004830154909291608084019160ff169081111561080e5761080e610a27565b600581111561081f5761081f610a27565b8152505082828151811061083557610835610be0565b602090810291909101015260010161077f565b5095945050505050565b6001600160a01b0381165f908152600260209081526040918290208054835181840281018401909452808452606093928301828280156104fc57602002820191905f5260205f20908154815260200190600101908083116104e85750505050509050919050565b335f9081526004602052604090205460ff166108e7576040516282b42960e81b815260040160405180910390fd5b6001805480820182555f9190915281600582027fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf6016109268282610c14565b50600290505f61093c6040850160208601610b20565b6001600160a01b031681526020808201929092526040015f90812080546001810182559082528282200183905560039161097890850185610b20565b6001600160a01b0316815260208082019290925260409081015f908120805460018101825590825290839020018390556109b791908401908401610b20565b6001600160a01b03166109cd6020840184610b20565b6001600160a01b0316827fd5ab3e1dda60e6d2383d01ad4b1103edeb6faa8047df1547c3f6dfc47018f6a560405160405180910390a45050565b5f5f60408385031215610a18575f5ffd5b50508035926020909101359150565b634e487b7160e01b5f52602160045260245ffd5b80516001600160a01b039081168352602080830151909116908301526040808201519083015260608082015190830152608081015160068110610a8c57634e487b7160e01b5f52602160045260245ffd5b806080840152505050565b602080825282518282018190525f918401906040840190835b81811015610ad957610ac3838551610a3b565b6020939093019260a09290920191600101610ab0565b509095945050505050565b5f60208284031215610af4575f5ffd5b5035919050565b60a081016103868284610a3b565b6001600160a01b0381168114610b1d575f5ffd5b50565b5f60208284031215610b30575f5ffd5b8135610b3b81610b09565b9392505050565b602080825282518282018190525f918401906040840190835b81811015610ad9578351835260209384019390920191600101610b5b565b5f60a0828403128015610b8a575f5ffd5b509092915050565b634e487b7160e01b5f52601160045260245ffd5b8082018082111561038657610386610b92565b8181038181111561038657610386610b92565b634e487b7160e01b5f52604160045260245ffd5b634e487b7160e01b5f52603260045260245ffd5b80546001600160a01b0319166001600160a01b0392909216919091179055565b8135610c1f81610b09565b610c298183610bf4565b506020820135610c3881610b09565b610c458160018401610bf4565b506040820135600282015560608201356003820155600481015f608084013560068110158015610c73575f5ffd5b50825460ff191660ff919091161790915550505056fea2646970667358221220ff1d2ce958c914ddd5ba140d16180e0ca94e302b89516714ffbcbc75c9495d6364736f6c634300081c0033",
  "deployedBytecode": "0x608060405234801561000f575f5ffd5b50600436106100a6575f3560e01c8063cc9e300f1161006e578063cc9e300f1461013b578063e1437f0f1461014c578063e52e64f914610187578063f851a4401461019a578063fcabb0fd146101c4578063ff14d3e8146101d7575f5ffd5b806365b33fd1146100aa578063a61ecc62146100d3578063a9297186146100f3578063b16b1e2d14610113578063bcfa3f3014610128575b5f5ffd5b6100bd6100b8366004610a07565b6101ea565b6040516100ca9190610a97565b60405180910390f35b6100e66100e1366004610ae4565b61038c565b6040516100ca9190610afb565b610106610101366004610b20565b61049f565b6040516100ca9190610b42565b610126610121366004610b20565b610508565b005b610126610136366004610b20565b610596565b6001546040519081526020016100ca565b61017761015a366004610b20565b6001600160a01b03165f9081526004602052604090205460ff1690565b60405190151581526020016100ca565b6100bd610195366004610ae4565b610676565b5f546101ac906001600160a01b031681565b6040516001600160a01b0390911681526020016100ca565b6101066101d2366004610b20565b610852565b6101266101e5366004610b79565b6108b9565b600154606090831061020f5760405163561ce9bb60e01b815260040160405180910390fd5b5f61021a8385610ba6565b60015490915081111561022c57506001545b5f6102378583610bb9565b90505f8167ffffffffffffffff81111561025357610253610bcc565b6040519080825280602002602001820160405280156102b257816020015b61029f6040805160a0810182525f808252602082018190529181018290526060810182905290608082015290565b8152602001906001900390816102715790505b5090505f5b828110156103805760016102cb8289610ba6565b815481106102db576102db610be0565b5f9182526020918290206040805160a081018252600593840290920180546001600160a01b03908116845260018201541694830194909452600284015490820152600383015460608201526004830154909291608084019160ff169081111561034657610346610a27565b600581111561035757610357610a27565b8152505082828151811061036d5761036d610be0565b60209081029190910101526001016102b7565b50925050505b92915050565b6103ba6040805160a0810182525f808252602082018190529181018290526060810182905290608082015290565b60015482106104075760405162461bcd60e51b8152602060048201526014602482015273115b9d1c9e48191bd95cc81b9bdd08195e1a5cdd60621b60448201526064015b60405180910390fd5b6001828154811061041a5761041a610be0565b5f9182526020918290206040805160a081018252600593840290920180546001600160a01b03908116845260018201541694830194909452600284015490820152600383015460608201526004830154909291608084019160ff169081111561048557610485610a27565b600581111561049657610496610a27565b90525092915050565b6001600160a01b0381165f908152600360209081526040918290208054835181840281018401909452808452606093928301828280156104fc57602002820191905f5260205f20905b8154815260200190600101908083116104e8575b50505050509050919050565b5f546001600160a01b0316331461054e5760405162461bcd60e51b815260206004820152600a60248201526927b7363c9030b236b4b760b11b60448201526064016103fe565b6001600160a01b0381165f81815260046020526040808220805460ff19169055517f902ce9ce11374af7f9b74f6ab3d4111f8652bb37e76c71d696e931210f64f49d9190a250565b5f546001600160a01b031633146105dc5760405162461bcd60e51b815260206004820152600a60248201526927b7363c9030b236b4b760b11b60448201526064016103fe565b6001600160a01b03811661062b5760405162461bcd60e51b8152602060048201526016602482015275496e76616c6964206c6f67676572206164647265737360501b60448201526064016103fe565b6001600160a01b0381165f81815260046020526040808220805460ff19166001179055517f9f2bbcfd0b2e3242c6982755a3baeb59187a22138a75ded102a5c9cb0ec727c79190a250565b6001546060905f8190036106e257604080515f80825260208201909252906106da565b6106c76040805160a0810182525f808252602082018190529181018290526060810182905290608082015290565b8152602001906001900390816106995790505b509392505050565b5f8184116106f057836106f2565b815b90505f6106ff8284610bb9565b90505f8267ffffffffffffffff81111561071b5761071b610bcc565b60405190808252806020026020018201604052801561077a57816020015b6107676040805160a0810182525f808252602082018190529181018290526060810182905290608082015290565b8152602001906001900390816107395790505b5090505f5b838110156108485760016107938285610ba6565b815481106107a3576107a3610be0565b5f9182526020918290206040805160a081018252600593840290920180546001600160a01b03908116845260018201541694830194909452600284015490820152600383015460608201526004830154909291608084019160ff169081111561080e5761080e610a27565b600581111561081f5761081f610a27565b8152505082828151811061083557610835610be0565b602090810291909101015260010161077f565b5095945050505050565b6001600160a01b0381165f908152600260209081526040918290208054835181840281018401909452808452606093928301828280156104fc57602002820191905f5260205f20908154815260200190600101908083116104e85750505050509050919050565b335f9081526004602052604090205460ff166108e7576040516282b42960e81b815260040160405180910390fd5b6001805480820182555f9190915281600582027fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf6016109268282610c14565b50600290505f61093c6040850160208601610b20565b6001600160a01b031681526020808201929092526040015f90812080546001810182559082528282200183905560039161097890850185610b20565b6001600160a01b0316815260208082019290925260409081015f908120805460018101825590825290839020018390556109b791908401908401610b20565b6001600160a01b03166109cd6020840184610b20565b6001600160a01b0316827fd5ab3e1dda60e6d2383d01ad4b1103edeb6faa8047df1547c3f6dfc47018f6a560405160405180910390a45050565b5f5f60408385031215610a18575f5ffd5b50508035926020909101359150565b634e487b7160e01b5f52602160045260245ffd5b80516001600160a01b039081168352602080830151909116908301526040808201519083015260608082015190830152608081015160068110610a8c57634e487b7160e01b5f52602160045260245ffd5b806080840152505050565b602080825282518282018190525f918401906040840190835b81811015610ad957610ac3838551610a3b565b6020939093019260a09290920191600101610ab0565b509095945050505050565b5f60208284031215610af4575f5ffd5b5035919050565b60a081016103868284610a3b565b6001600160a01b0381168114610b1d575f5ffd5b50565b5f60208284031215610b30575f5ffd5b8135610b3b81610b09565b9392505050565b602080825282518282018190525f918401906040840190835b81811015610ad9578351835260209384019390920191600101610b5b565b5f60a0828403128015610b8a575f5ffd5b509092915050565b634e487b7160e01b5f52601160045260245ffd5b8082018082111561038657610386610b92565b8181038181111561038657610386610b92565b634e487b7160e01b5f52604160045260245ffd5b634e487b7160e01b5f52603260045260245ffd5b80546001600160a01b0319166001600160a01b0392909216919091179055565b8135610c1f81610b09565b610c298183610bf4565b506020820135610c3881610b09565b610c458160018401610bf4565b506040820135600282015560608201356003820155600481015f608084013560068110158015610c73575f5ffd5b50825460ff191660ff919091161790915550505056fea2646970667358221220ff1d2ce958c914ddd5ba140d16180e0ca94e302b89516714ffbcbc75c9495d6364736f6c634300081c0033",
  "linkReferences": {},
  "deployedLinkReferences": {},
  "immutableReferences": {},
  "inputSourceName": "project/contracts/AuditLog.sol",
  "buildInfoId": "solc-0_8_28-7df9f3eb5cad6b22ab277c25a6df1fdf05e6ef5a"
}