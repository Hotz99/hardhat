{
  "_format": "hh3-artifact-1",
  "contractName": "ConsentManager",
  "sourceName": "contracts/ConsentManager.sol",
  "abi": [
    {
      "inputs": [],
      "name": "ConsentAlreadyRevoked",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ConsentExpired",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ConsentNotFound",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "UnauthorizedRevocation",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "consentId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "borrower",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "lender",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bytes32[]",
          "name": "scopes",
          "type": "bytes32[]"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "startBlockTime",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "expiryBlockTime",
          "type": "uint256"
        }
      ],
      "name": "ConsentGranted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "consentId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "querier",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "authorized",
          "type": "bool"
        }
      ],
      "name": "ConsentQueried",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "consentId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "borrower",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "lender",
          "type": "address"
        }
      ],
      "name": "ConsentRevoked",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "borrowerConsents",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "borrower",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "scope",
          "type": "bytes32"
        }
      ],
      "name": "checkConsent",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "consents",
      "outputs": [
        {
          "internalType": "address",
          "name": "borrower",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "lender",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "startBlockTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "expiryBlockTime",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isRevoked",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "isValue",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "borrower",
          "type": "address"
        }
      ],
      "name": "getBorrowerConsents",
      "outputs": [
        {
          "internalType": "bytes32[]",
          "name": "",
          "type": "bytes32[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "consentId",
          "type": "bytes32"
        }
      ],
      "name": "getScopes",
      "outputs": [
        {
          "internalType": "bytes32[]",
          "name": "",
          "type": "bytes32[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "lender",
          "type": "address"
        },
        {
          "internalType": "bytes32[]",
          "name": "scopes",
          "type": "bytes32[]"
        },
        {
          "internalType": "uint256",
          "name": "durationSeconds",
          "type": "uint256"
        }
      ],
      "name": "grantConsent",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "consentId",
          "type": "bytes32"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "consentId",
          "type": "bytes32"
        }
      ],
      "name": "isConsentValid",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "lender",
          "type": "address"
        }
      ],
      "name": "revokeAllConsents",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "consentId",
          "type": "bytes32"
        }
      ],
      "name": "revokeConsentById",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x6080604052348015600e575f5ffd5b50610d088061001c5f395ff3fe608060405234801561000f575f5ffd5b5060043610610090575f3560e01c80639fdc6bd8116100635780639fdc6bd814610104578063b3d8ccbd14610125578063b46e513f146101b6578063c8726626146101c9578063e3fe22d4146101dc575f5ffd5b80631751d705146100945780634117f3da146100bc57806380aabfd5146100dc578063933ac02c146100f1575b5f5ffd5b6100a76100a2366004610acf565b6101ef565b60405190151581526020015b60405180910390f35b6100cf6100ca366004610af7565b610388565b6040516100b39190610b0e565b6100ef6100ea366004610af7565b6103ea565b005b6100ef6100ff366004610b50565b6104c0565b610117610112366004610b70565b6105de565b6040519081526020016100b3565b61017a610133366004610af7565b600160208190525f9182526040909120805491810154600382015460048301546005909301546001600160a01b039485169490921692909160ff8082169161010090041686565b604080516001600160a01b03978816815296909516602087015293850192909252606084015215156080830152151560a082015260c0016100b3565b6101176101c4366004610acf565b610972565b6100a76101d7366004610af7565b61099c565b6100cf6101ea366004610b50565b6109f2565b5f33815b6001600160a01b0385165f9081526020819052604090205481101561033d576001600160a01b0385165f90815260208190526040812080548390811061023b5761023b610bf8565b5f918252602080832090910154808352600191829052604090922090810154919250906001600160a01b0390811690851614158061027d5750600581015460ff165b8061028b5750806004015442115b15610297575050610335565b5f805b60028301548110156102db57878360020182815481106102bc576102bc610bf8565b905f5260205f200154036102d357600191506102db565b60010161029a565b50801561033157604051600181526001600160a01b0386169084907f0e2aa5556a454e629029b975f197e594d2aadea355cdd0a91cad95a3df69baca9060200160405180910390a3600195505050505050610382565b5050505b6001016101f3565b506040515f8082526001600160a01b038316917f0e2aa5556a454e629029b975f197e594d2aadea355cdd0a91cad95a3df69baca9060200160405180910390a35f9150505b92915050565b5f818152600160209081526040918290206002018054835181840281018401909452808452606093928301828280156103de57602002820191905f5260205f20905b8154815260200190600101908083116103ca575b50505050509050919050565b5f81815260016020526040902080546001600160a01b031661041f576040516310a4d3b360e21b815260040160405180910390fd5b80546001600160a01b0316331461044957604051630feaf7d560e31b815260040160405180910390fd5b600581015460ff161561046f57604051633b3f1ef560e01b815260040160405180910390fd5b60058101805460ff191660019081179091558101546040516001600160a01b0390911690339084907f1fdab32a01e7a989c96da8ab7f4c7cd06957ff5bd2f53b2bdad498202a2fc9b7905f90a45050565b6001600160a01b0381166105145760405162461bcd60e51b8152602060048201526016602482015275496e76616c6964206c656e646572206164647265737360501b60448201526064015b60405180910390fd5b335f908152602081905260408120905b81548110156105d9575f82828154811061054057610540610bf8565b5f918252602080832090910154808352600191829052604090922090810154919250906001600160a01b039081169086161480156105835750600581015460ff16155b156105cf5760058101805460ff191660011790556040516001600160a01b03861690339084907f1fdab32a01e7a989c96da8ab7f4c7cd06957ff5bd2f53b2bdad498202a2fc9b7905f90a45b5050600101610524565b505050565b5f6001600160a01b03851661062e5760405162461bcd60e51b8152602060048201526016602482015275496e76616c6964206c656e646572206164647265737360501b604482015260640161050b565b8261067b5760405162461bcd60e51b815260206004820152601b60248201527f4174206c65617374206f6e652073636f70652072657175697265640000000000604482015260640161050b565b5f82116106ca5760405162461bcd60e51b815260206004820152601960248201527f4475726174696f6e206d75737420626520706f73697469766500000000000000604482015260640161050b565b5f5b83811015610733575f8585838181106106e7576106e7610bf8565b905060200201350361072b5760405162461bcd60e51b815260206004820152600d60248201526c496e76616c69642073636f706560981b604482015260640161050b565b6001016106cc565b50425f6107408483610c0c565b905033878787426107518982610c0c565b436040516020016107689796959493929190610c2b565b60408051601f1981840301815291815281516020928301205f81815260019384905291909120909101549093506001600160a01b0316156107e45760405162461bcd60e51b8152602060048201526016602482015275436f6e73656e7420616c72656164792065786973747360501b604482015260640161050b565b6040518060e00160405280336001600160a01b03168152602001886001600160a01b031681526020018787808060200260200160405190810160405280939291908181526020018383602002808284375f92018290525093855250505060208083018690526040808401869052606084018390526001608090940184905287835283825291829020845181546001600160a01b039182166001600160a01b0319918216178355868401519583018054969092169516949094179093559083015180516108b69260028501920190610a57565b50606082015160038201556080820151600482015560a08201516005909101805460c09093015115156101000261ff00199215159290921661ffff1990931692909217179055335f8181526020818152604080832080546001810182559084529190922001859055516001600160a01b038916919085907f8be153f42fc9508465d26d1986a77ad5199afce8cfb2aef0b0faf4b0e67468b290610960908b908b9089908990610c8e565b60405180910390a45050949350505050565b5f602052815f5260405f20818154811061098a575f80fd5b905f5260205f20015f91509150505481565b5f81815260016020526040812080546001600160a01b03166109c057505f92915050565b600581015460ff16156109d557505f92915050565b80600401544211156109e957505f92915050565b50600192915050565b6001600160a01b0381165f90815260208181526040918290208054835181840281018401909452808452606093928301828280156103de57602002820191905f5260205f20908154815260200190600101908083116103ca5750505050509050919050565b828054828255905f5260205f20908101928215610a90579160200282015b82811115610a90578251825591602001919060010190610a75565b50610a9c929150610aa0565b5090565b5b80821115610a9c575f8155600101610aa1565b80356001600160a01b0381168114610aca575f5ffd5b919050565b5f5f60408385031215610ae0575f5ffd5b610ae983610ab4565b946020939093013593505050565b5f60208284031215610b07575f5ffd5b5035919050565b602080825282518282018190525f918401906040840190835b81811015610b45578351835260209384019390920191600101610b27565b509095945050505050565b5f60208284031215610b60575f5ffd5b610b6982610ab4565b9392505050565b5f5f5f5f60608587031215610b83575f5ffd5b610b8c85610ab4565b9350602085013567ffffffffffffffff811115610ba7575f5ffd5b8501601f81018713610bb7575f5ffd5b803567ffffffffffffffff811115610bcd575f5ffd5b8760208260051b8401011115610be1575f5ffd5b949760209190910196509394604001359392505050565b634e487b7160e01b5f52603260045260245ffd5b8082018082111561038257634e487b7160e01b5f52601160045260245ffd5b6bffffffffffffffffffffffff19606089811b8216835288901b1660148201525f6001600160fb1b03861115610c5f575f5ffd5b8560051b8088602885013760289201918201949094526048810192909252606882015260880195945050505050565b606080825281018490525f6001600160fb1b03851115610cac575f5ffd5b8460051b808760808501376020830194909452506040810191909152016080019291505056fea2646970667358221220ae80bf0393f77f4347ac96a6b1877024044d3c9757b9d0a92080dca2b203174f64736f6c634300081c0033",
  "deployedBytecode": "0x608060405234801561000f575f5ffd5b5060043610610090575f3560e01c80639fdc6bd8116100635780639fdc6bd814610104578063b3d8ccbd14610125578063b46e513f146101b6578063c8726626146101c9578063e3fe22d4146101dc575f5ffd5b80631751d705146100945780634117f3da146100bc57806380aabfd5146100dc578063933ac02c146100f1575b5f5ffd5b6100a76100a2366004610acf565b6101ef565b60405190151581526020015b60405180910390f35b6100cf6100ca366004610af7565b610388565b6040516100b39190610b0e565b6100ef6100ea366004610af7565b6103ea565b005b6100ef6100ff366004610b50565b6104c0565b610117610112366004610b70565b6105de565b6040519081526020016100b3565b61017a610133366004610af7565b600160208190525f9182526040909120805491810154600382015460048301546005909301546001600160a01b039485169490921692909160ff8082169161010090041686565b604080516001600160a01b03978816815296909516602087015293850192909252606084015215156080830152151560a082015260c0016100b3565b6101176101c4366004610acf565b610972565b6100a76101d7366004610af7565b61099c565b6100cf6101ea366004610b50565b6109f2565b5f33815b6001600160a01b0385165f9081526020819052604090205481101561033d576001600160a01b0385165f90815260208190526040812080548390811061023b5761023b610bf8565b5f918252602080832090910154808352600191829052604090922090810154919250906001600160a01b0390811690851614158061027d5750600581015460ff165b8061028b5750806004015442115b15610297575050610335565b5f805b60028301548110156102db57878360020182815481106102bc576102bc610bf8565b905f5260205f200154036102d357600191506102db565b60010161029a565b50801561033157604051600181526001600160a01b0386169084907f0e2aa5556a454e629029b975f197e594d2aadea355cdd0a91cad95a3df69baca9060200160405180910390a3600195505050505050610382565b5050505b6001016101f3565b506040515f8082526001600160a01b038316917f0e2aa5556a454e629029b975f197e594d2aadea355cdd0a91cad95a3df69baca9060200160405180910390a35f9150505b92915050565b5f818152600160209081526040918290206002018054835181840281018401909452808452606093928301828280156103de57602002820191905f5260205f20905b8154815260200190600101908083116103ca575b50505050509050919050565b5f81815260016020526040902080546001600160a01b031661041f576040516310a4d3b360e21b815260040160405180910390fd5b80546001600160a01b0316331461044957604051630feaf7d560e31b815260040160405180910390fd5b600581015460ff161561046f57604051633b3f1ef560e01b815260040160405180910390fd5b60058101805460ff191660019081179091558101546040516001600160a01b0390911690339084907f1fdab32a01e7a989c96da8ab7f4c7cd06957ff5bd2f53b2bdad498202a2fc9b7905f90a45050565b6001600160a01b0381166105145760405162461bcd60e51b8152602060048201526016602482015275496e76616c6964206c656e646572206164647265737360501b60448201526064015b60405180910390fd5b335f908152602081905260408120905b81548110156105d9575f82828154811061054057610540610bf8565b5f918252602080832090910154808352600191829052604090922090810154919250906001600160a01b039081169086161480156105835750600581015460ff16155b156105cf5760058101805460ff191660011790556040516001600160a01b03861690339084907f1fdab32a01e7a989c96da8ab7f4c7cd06957ff5bd2f53b2bdad498202a2fc9b7905f90a45b5050600101610524565b505050565b5f6001600160a01b03851661062e5760405162461bcd60e51b8152602060048201526016602482015275496e76616c6964206c656e646572206164647265737360501b604482015260640161050b565b8261067b5760405162461bcd60e51b815260206004820152601b60248201527f4174206c65617374206f6e652073636f70652072657175697265640000000000604482015260640161050b565b5f82116106ca5760405162461bcd60e51b815260206004820152601960248201527f4475726174696f6e206d75737420626520706f73697469766500000000000000604482015260640161050b565b5f5b83811015610733575f8585838181106106e7576106e7610bf8565b905060200201350361072b5760405162461bcd60e51b815260206004820152600d60248201526c496e76616c69642073636f706560981b604482015260640161050b565b6001016106cc565b50425f6107408483610c0c565b905033878787426107518982610c0c565b436040516020016107689796959493929190610c2b565b60408051601f1981840301815291815281516020928301205f81815260019384905291909120909101549093506001600160a01b0316156107e45760405162461bcd60e51b8152602060048201526016602482015275436f6e73656e7420616c72656164792065786973747360501b604482015260640161050b565b6040518060e00160405280336001600160a01b03168152602001886001600160a01b031681526020018787808060200260200160405190810160405280939291908181526020018383602002808284375f92018290525093855250505060208083018690526040808401869052606084018390526001608090940184905287835283825291829020845181546001600160a01b039182166001600160a01b0319918216178355868401519583018054969092169516949094179093559083015180516108b69260028501920190610a57565b50606082015160038201556080820151600482015560a08201516005909101805460c09093015115156101000261ff00199215159290921661ffff1990931692909217179055335f8181526020818152604080832080546001810182559084529190922001859055516001600160a01b038916919085907f8be153f42fc9508465d26d1986a77ad5199afce8cfb2aef0b0faf4b0e67468b290610960908b908b9089908990610c8e565b60405180910390a45050949350505050565b5f602052815f5260405f20818154811061098a575f80fd5b905f5260205f20015f91509150505481565b5f81815260016020526040812080546001600160a01b03166109c057505f92915050565b600581015460ff16156109d557505f92915050565b80600401544211156109e957505f92915050565b50600192915050565b6001600160a01b0381165f90815260208181526040918290208054835181840281018401909452808452606093928301828280156103de57602002820191905f5260205f20908154815260200190600101908083116103ca5750505050509050919050565b828054828255905f5260205f20908101928215610a90579160200282015b82811115610a90578251825591602001919060010190610a75565b50610a9c929150610aa0565b5090565b5b80821115610a9c575f8155600101610aa1565b80356001600160a01b0381168114610aca575f5ffd5b919050565b5f5f60408385031215610ae0575f5ffd5b610ae983610ab4565b946020939093013593505050565b5f60208284031215610b07575f5ffd5b5035919050565b602080825282518282018190525f918401906040840190835b81811015610b45578351835260209384019390920191600101610b27565b509095945050505050565b5f60208284031215610b60575f5ffd5b610b6982610ab4565b9392505050565b5f5f5f5f60608587031215610b83575f5ffd5b610b8c85610ab4565b9350602085013567ffffffffffffffff811115610ba7575f5ffd5b8501601f81018713610bb7575f5ffd5b803567ffffffffffffffff811115610bcd575f5ffd5b8760208260051b8401011115610be1575f5ffd5b949760209190910196509394604001359392505050565b634e487b7160e01b5f52603260045260245ffd5b8082018082111561038257634e487b7160e01b5f52601160045260245ffd5b6bffffffffffffffffffffffff19606089811b8216835288901b1660148201525f6001600160fb1b03861115610c5f575f5ffd5b8560051b8088602885013760289201918201949094526048810192909252606882015260880195945050505050565b606080825281018490525f6001600160fb1b03851115610cac575f5ffd5b8460051b808760808501376020830194909452506040810191909152016080019291505056fea2646970667358221220ae80bf0393f77f4347ac96a6b1877024044d3c9757b9d0a92080dca2b203174f64736f6c634300081c0033",
  "linkReferences": {},
  "deployedLinkReferences": {},
  "immutableReferences": {},
  "inputSourceName": "project/contracts/ConsentManager.sol",
  "buildInfoId": "solc-0_8_28-744d47382d233ab24860df8e4f9fd241397bdfb9"
}