{
  "_format": "hh3-artifact-1",
  "contractName": "ConsentManager",
  "sourceName": "contracts/ConsentManager.sol",
  "abi": [
    {
      "inputs": [],
      "name": "ConsentAlreadyRevoked",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ConsentExpired",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ConsentNotFound",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "UnauthorizedRevocation",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "consentId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "borrower",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "lender",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bytes32[]",
          "name": "scopes",
          "type": "bytes32[]"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "startBlockTime",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "expiryBlockTime",
          "type": "uint256"
        }
      ],
      "name": "ConsentGranted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "consentId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "querier",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "authorized",
          "type": "bool"
        }
      ],
      "name": "ConsentQueried",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "consentId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "borrower",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "lender",
          "type": "address"
        }
      ],
      "name": "ConsentRevoked",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "borrowerConsents",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "borrower",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "scope",
          "type": "bytes32"
        }
      ],
      "name": "checkConsent",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "consents",
      "outputs": [
        {
          "internalType": "address",
          "name": "borrower",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "lender",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "startBlockTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "expiryBlockTime",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isRevoked",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "borrower",
          "type": "address"
        }
      ],
      "name": "getBorrowerConsents",
      "outputs": [
        {
          "internalType": "bytes32[]",
          "name": "",
          "type": "bytes32[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "consentId",
          "type": "bytes32"
        }
      ],
      "name": "getScopes",
      "outputs": [
        {
          "internalType": "bytes32[]",
          "name": "",
          "type": "bytes32[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "lender",
          "type": "address"
        },
        {
          "internalType": "bytes32[]",
          "name": "scopes",
          "type": "bytes32[]"
        },
        {
          "internalType": "uint256",
          "name": "durationSeconds",
          "type": "uint256"
        }
      ],
      "name": "grantConsent",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "consentId",
          "type": "bytes32"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "consentId",
          "type": "bytes32"
        }
      ],
      "name": "isConsentValid",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "lender",
          "type": "address"
        }
      ],
      "name": "revokeAllConsents",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "consentId",
          "type": "bytes32"
        }
      ],
      "name": "revokeConsentById",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x6080604052348015600e575f5ffd5b50610c558061001c5f395ff3fe608060405234801561000f575f5ffd5b5060043610610090575f3560e01c80639fdc6bd8116100635780639fdc6bd814610104578063b3d8ccbd14610125578063b46e513f146101a6578063c8726626146101b9578063e3fe22d4146101cc575f5ffd5b80631751d705146100945780634117f3da146100bc57806380aabfd5146100dc578063933ac02c146100f1575b5f5ffd5b6100a76100a2366004610a24565b6101df565b60405190151581526020015b60405180910390f35b6100cf6100ca366004610a4c565b610378565b6040516100b39190610a63565b6100ef6100ea366004610a4c565b6103da565b005b6100ef6100ff366004610aa5565b6104b0565b610117610112366004610ac5565b6105ce565b6040519081526020016100b3565b610171610133366004610a4c565b600160208190525f9182526040909120805491810154600382015460048301546005909301546001600160a01b039485169490921692909160ff1685565b604080516001600160a01b0396871681529590941660208601529284019190915260608301521515608082015260a0016100b3565b6101176101b4366004610a24565b6108c7565b6100a76101c7366004610a4c565b6108f1565b6100cf6101da366004610aa5565b610947565b5f33815b6001600160a01b0385165f9081526020819052604090205481101561032d576001600160a01b0385165f90815260208190526040812080548390811061022b5761022b610b4d565b5f918252602080832090910154808352600191829052604090922090810154919250906001600160a01b0390811690851614158061026d5750600581015460ff165b8061027b5750806004015442115b15610287575050610325565b5f805b60028301548110156102cb57878360020182815481106102ac576102ac610b4d565b905f5260205f200154036102c357600191506102cb565b60010161028a565b50801561032157604051600181526001600160a01b0386169084907f0e2aa5556a454e629029b975f197e594d2aadea355cdd0a91cad95a3df69baca9060200160405180910390a3600195505050505050610372565b5050505b6001016101e3565b506040515f8082526001600160a01b038316917f0e2aa5556a454e629029b975f197e594d2aadea355cdd0a91cad95a3df69baca9060200160405180910390a35f9150505b92915050565b5f818152600160209081526040918290206002018054835181840281018401909452808452606093928301828280156103ce57602002820191905f5260205f20905b8154815260200190600101908083116103ba575b50505050509050919050565b5f81815260016020526040902080546001600160a01b031661040f576040516310a4d3b360e21b815260040160405180910390fd5b80546001600160a01b0316331461043957604051630feaf7d560e31b815260040160405180910390fd5b600581015460ff161561045f57604051633b3f1ef560e01b815260040160405180910390fd5b60058101805460ff191660019081179091558101546040516001600160a01b0390911690339084907f1fdab32a01e7a989c96da8ab7f4c7cd06957ff5bd2f53b2bdad498202a2fc9b7905f90a45050565b6001600160a01b0381166105045760405162461bcd60e51b8152602060048201526016602482015275496e76616c6964206c656e646572206164647265737360501b60448201526064015b60405180910390fd5b335f908152602081905260408120905b81548110156105c9575f82828154811061053057610530610b4d565b5f918252602080832090910154808352600191829052604090922090810154919250906001600160a01b039081169086161480156105735750600581015460ff16155b156105bf5760058101805460ff191660011790556040516001600160a01b03861690339084907f1fdab32a01e7a989c96da8ab7f4c7cd06957ff5bd2f53b2bdad498202a2fc9b7905f90a45b5050600101610514565b505050565b5f6001600160a01b03851661061e5760405162461bcd60e51b8152602060048201526016602482015275496e76616c6964206c656e646572206164647265737360501b60448201526064016104fb565b8261066b5760405162461bcd60e51b815260206004820152601b60248201527f4174206c65617374206f6e652073636f7065207265717569726564000000000060448201526064016104fb565b5f82116106ba5760405162461bcd60e51b815260206004820152601960248201527f4475726174696f6e206d75737420626520706f7369746976650000000000000060448201526064016104fb565b5f5b83811015610723575f8585838181106106d7576106d7610b4d565b905060200201350361071b5760405162461bcd60e51b815260206004820152600d60248201526c496e76616c69642073636f706560981b60448201526064016104fb565b6001016106bc565b50425f6107308483610b61565b905033878787424360405160200161074d96959493929190610b80565b60408051601f19818403018152828252805160209182012060c0840183523384526001600160a01b038b16848301528251898302818101840185528a825291975092840192918a918a918291908501908490808284375f920182905250938552505050602080830186905260408084018690526060909301829052868252600180825291839020845181546001600160a01b039182166001600160a01b0319918216178355868401519483018054959092169416939093179092559183015180519192610822926002850192909101906109ac565b50606082015160038201556080820151600482015560a0909101516005909101805460ff1916911515919091179055335f8181526020818152604080832080546001810182559084529190922001859055516001600160a01b038916919085907f8be153f42fc9508465d26d1986a77ad5199afce8cfb2aef0b0faf4b0e67468b2906108b5908b908b9089908990610bdb565b60405180910390a45050949350505050565b5f602052815f5260405f2081815481106108df575f80fd5b905f5260205f20015f91509150505481565b5f81815260016020526040812080546001600160a01b031661091557505f92915050565b600581015460ff161561092a57505f92915050565b806004015442111561093e57505f92915050565b50600192915050565b6001600160a01b0381165f90815260208181526040918290208054835181840281018401909452808452606093928301828280156103ce57602002820191905f5260205f20908154815260200190600101908083116103ba5750505050509050919050565b828054828255905f5260205f209081019282156109e5579160200282015b828111156109e55782518255916020019190600101906109ca565b506109f19291506109f5565b5090565b5b808211156109f1575f81556001016109f6565b80356001600160a01b0381168114610a1f575f5ffd5b919050565b5f5f60408385031215610a35575f5ffd5b610a3e83610a09565b946020939093013593505050565b5f60208284031215610a5c575f5ffd5b5035919050565b602080825282518282018190525f918401906040840190835b81811015610a9a578351835260209384019390920191600101610a7c565b509095945050505050565b5f60208284031215610ab5575f5ffd5b610abe82610a09565b9392505050565b5f5f5f5f60608587031215610ad8575f5ffd5b610ae185610a09565b9350602085013567ffffffffffffffff811115610afc575f5ffd5b8501601f81018713610b0c575f5ffd5b803567ffffffffffffffff811115610b22575f5ffd5b8760208260051b8401011115610b36575f5ffd5b949760209190910196509394604001359392505050565b634e487b7160e01b5f52603260045260245ffd5b8082018082111561037257634e487b7160e01b5f52601160045260245ffd5b6bffffffffffffffffffffffff19606088811b8216835287901b1660148201525f6001600160fb1b03851115610bb4575f5ffd5b8460051b808760288501379091016028810193909352506048820152606801949350505050565b606080825281018490525f6001600160fb1b03851115610bf9575f5ffd5b8460051b808760808501376020830194909452506040810191909152016080019291505056fea2646970667358221220dc003a24cd4a1801755140f6515059eb5bb98a69d6b719f8556fba7369b6e7b264736f6c634300081c0033",
  "deployedBytecode": "0x608060405234801561000f575f5ffd5b5060043610610090575f3560e01c80639fdc6bd8116100635780639fdc6bd814610104578063b3d8ccbd14610125578063b46e513f146101a6578063c8726626146101b9578063e3fe22d4146101cc575f5ffd5b80631751d705146100945780634117f3da146100bc57806380aabfd5146100dc578063933ac02c146100f1575b5f5ffd5b6100a76100a2366004610a24565b6101df565b60405190151581526020015b60405180910390f35b6100cf6100ca366004610a4c565b610378565b6040516100b39190610a63565b6100ef6100ea366004610a4c565b6103da565b005b6100ef6100ff366004610aa5565b6104b0565b610117610112366004610ac5565b6105ce565b6040519081526020016100b3565b610171610133366004610a4c565b600160208190525f9182526040909120805491810154600382015460048301546005909301546001600160a01b039485169490921692909160ff1685565b604080516001600160a01b0396871681529590941660208601529284019190915260608301521515608082015260a0016100b3565b6101176101b4366004610a24565b6108c7565b6100a76101c7366004610a4c565b6108f1565b6100cf6101da366004610aa5565b610947565b5f33815b6001600160a01b0385165f9081526020819052604090205481101561032d576001600160a01b0385165f90815260208190526040812080548390811061022b5761022b610b4d565b5f918252602080832090910154808352600191829052604090922090810154919250906001600160a01b0390811690851614158061026d5750600581015460ff165b8061027b5750806004015442115b15610287575050610325565b5f805b60028301548110156102cb57878360020182815481106102ac576102ac610b4d565b905f5260205f200154036102c357600191506102cb565b60010161028a565b50801561032157604051600181526001600160a01b0386169084907f0e2aa5556a454e629029b975f197e594d2aadea355cdd0a91cad95a3df69baca9060200160405180910390a3600195505050505050610372565b5050505b6001016101e3565b506040515f8082526001600160a01b038316917f0e2aa5556a454e629029b975f197e594d2aadea355cdd0a91cad95a3df69baca9060200160405180910390a35f9150505b92915050565b5f818152600160209081526040918290206002018054835181840281018401909452808452606093928301828280156103ce57602002820191905f5260205f20905b8154815260200190600101908083116103ba575b50505050509050919050565b5f81815260016020526040902080546001600160a01b031661040f576040516310a4d3b360e21b815260040160405180910390fd5b80546001600160a01b0316331461043957604051630feaf7d560e31b815260040160405180910390fd5b600581015460ff161561045f57604051633b3f1ef560e01b815260040160405180910390fd5b60058101805460ff191660019081179091558101546040516001600160a01b0390911690339084907f1fdab32a01e7a989c96da8ab7f4c7cd06957ff5bd2f53b2bdad498202a2fc9b7905f90a45050565b6001600160a01b0381166105045760405162461bcd60e51b8152602060048201526016602482015275496e76616c6964206c656e646572206164647265737360501b60448201526064015b60405180910390fd5b335f908152602081905260408120905b81548110156105c9575f82828154811061053057610530610b4d565b5f918252602080832090910154808352600191829052604090922090810154919250906001600160a01b039081169086161480156105735750600581015460ff16155b156105bf5760058101805460ff191660011790556040516001600160a01b03861690339084907f1fdab32a01e7a989c96da8ab7f4c7cd06957ff5bd2f53b2bdad498202a2fc9b7905f90a45b5050600101610514565b505050565b5f6001600160a01b03851661061e5760405162461bcd60e51b8152602060048201526016602482015275496e76616c6964206c656e646572206164647265737360501b60448201526064016104fb565b8261066b5760405162461bcd60e51b815260206004820152601b60248201527f4174206c65617374206f6e652073636f7065207265717569726564000000000060448201526064016104fb565b5f82116106ba5760405162461bcd60e51b815260206004820152601960248201527f4475726174696f6e206d75737420626520706f7369746976650000000000000060448201526064016104fb565b5f5b83811015610723575f8585838181106106d7576106d7610b4d565b905060200201350361071b5760405162461bcd60e51b815260206004820152600d60248201526c496e76616c69642073636f706560981b60448201526064016104fb565b6001016106bc565b50425f6107308483610b61565b905033878787424360405160200161074d96959493929190610b80565b60408051601f19818403018152828252805160209182012060c0840183523384526001600160a01b038b16848301528251898302818101840185528a825291975092840192918a918a918291908501908490808284375f920182905250938552505050602080830186905260408084018690526060909301829052868252600180825291839020845181546001600160a01b039182166001600160a01b0319918216178355868401519483018054959092169416939093179092559183015180519192610822926002850192909101906109ac565b50606082015160038201556080820151600482015560a0909101516005909101805460ff1916911515919091179055335f8181526020818152604080832080546001810182559084529190922001859055516001600160a01b038916919085907f8be153f42fc9508465d26d1986a77ad5199afce8cfb2aef0b0faf4b0e67468b2906108b5908b908b9089908990610bdb565b60405180910390a45050949350505050565b5f602052815f5260405f2081815481106108df575f80fd5b905f5260205f20015f91509150505481565b5f81815260016020526040812080546001600160a01b031661091557505f92915050565b600581015460ff161561092a57505f92915050565b806004015442111561093e57505f92915050565b50600192915050565b6001600160a01b0381165f90815260208181526040918290208054835181840281018401909452808452606093928301828280156103ce57602002820191905f5260205f20908154815260200190600101908083116103ba5750505050509050919050565b828054828255905f5260205f209081019282156109e5579160200282015b828111156109e55782518255916020019190600101906109ca565b506109f19291506109f5565b5090565b5b808211156109f1575f81556001016109f6565b80356001600160a01b0381168114610a1f575f5ffd5b919050565b5f5f60408385031215610a35575f5ffd5b610a3e83610a09565b946020939093013593505050565b5f60208284031215610a5c575f5ffd5b5035919050565b602080825282518282018190525f918401906040840190835b81811015610a9a578351835260209384019390920191600101610a7c565b509095945050505050565b5f60208284031215610ab5575f5ffd5b610abe82610a09565b9392505050565b5f5f5f5f60608587031215610ad8575f5ffd5b610ae185610a09565b9350602085013567ffffffffffffffff811115610afc575f5ffd5b8501601f81018713610b0c575f5ffd5b803567ffffffffffffffff811115610b22575f5ffd5b8760208260051b8401011115610b36575f5ffd5b949760209190910196509394604001359392505050565b634e487b7160e01b5f52603260045260245ffd5b8082018082111561037257634e487b7160e01b5f52601160045260245ffd5b6bffffffffffffffffffffffff19606088811b8216835287901b1660148201525f6001600160fb1b03851115610bb4575f5ffd5b8460051b808760288501379091016028810193909352506048820152606801949350505050565b606080825281018490525f6001600160fb1b03851115610bf9575f5ffd5b8460051b808760808501376020830194909452506040810191909152016080019291505056fea2646970667358221220dc003a24cd4a1801755140f6515059eb5bb98a69d6b719f8556fba7369b6e7b264736f6c634300081c0033",
  "linkReferences": {},
  "deployedLinkReferences": {},
  "immutableReferences": {},
  "inputSourceName": "project/contracts/ConsentManager.sol",
  "buildInfoId": "solc-0_8_28-982b20d24827800ad27376daed169634637867cd"
}